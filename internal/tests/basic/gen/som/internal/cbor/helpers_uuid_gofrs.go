// Code generated by github.com/go-surreal/som, DO NOT EDIT.
package cbor

import (
	"github.com/gofrs/uuid"
	"github.com/surrealdb/surrealdb.go/pkg/models"
)

func MarshalUUIDGofrs(u uuid.UUID) (RawMessage, error) {
	raw, err := Marshal(u)
	if err != nil {
		return nil, err
	}
	return Marshal(RawTag{
		Content: raw,
		Number:  models.TagSpecBinaryUUID,
	})
}

func MarshalUUIDGofrsPtr(u *uuid.UUID) (RawMessage, error) {
	if u == nil {
		return Marshal(nil)
	}
	return MarshalUUIDGofrs(*u)
}

func UnmarshalUUIDGofrs(data []byte) (uuid.UUID, error) {
	var tag RawTag
	if err := Unmarshal(data, &tag); err != nil {
		return uuid.UUID{}, err
	}
	var uuidBytes []byte
	if err := Unmarshal(tag.Content, &uuidBytes); err != nil {
		return uuid.UUID{}, err
	}
	return uuid.FromBytes(uuidBytes)
}

func UnmarshalUUIDGofrsPtr(data []byte) (*uuid.UUID, error) {
	u, err := UnmarshalUUIDGofrs(data)
	if err != nil {
		return nil, err
	}
	return &u, nil
}
