// Code generated by github.com/go-surreal/som, DO NOT EDIT.
package define

import (
	lib "github.com/go-surreal/som/tests/basic/gen/som/internal/lib"
	model "github.com/go-surreal/som/tests/basic/model"
)

type nodeURLExample struct {
	db        Database
	query     lib.Query[model.URLExample]
	unmarshal func(buf []byte, val any) error
}

type NodeURLExample struct {
	nodeURLExample
}

type NodeURLExampleNoLive struct {
	nodeURLExample
}

func NewURLExample(db Database, unmarshal func(buf []byte, val any) error) NodeURLExample {
	return NodeURLExample{nodeURLExample{
		db:        db,
		query:     lib.NewQuery[model.URLExample]("url_example"),
		unmarshal: unmarshal,
	}}
}

// Filter adds a where statement to the query to
// select records based on the given conditions.
//
// Use where.All to chain multiple conditions
// together that all need to match.
// Use where.Any to chain multiple conditions
// together where at least one needs to match.
func (q nodeURLExample) Filter(filters ...lib.Filter[model.URLExample]) NodeURLExample {
	q.query.Where = append(q.query.Where, filters...)
	return NodeURLExample{q}
}

// Order sorts the returned records based on the given conditions.
// If multiple conditions are given, they are applied one after the other.
// Note: If OrderRandom is used within the same query,
// it would override the sort conditions.
func (q nodeURLExample) Order(by ...*lib.Sort[model.URLExample]) NodeURLExampleNoLive {
	for _, s := range by {
		q.query.Sort = append(q.query.Sort, (*lib.SortBuilder)(s))
	}
	return NodeURLExampleNoLive{q}
}

// OrderRandom sorts the returned records in a random order.
// Note: OrderRandom takes precedence over Order.
func (q nodeURLExample) OrderRandom() NodeURLExampleNoLive {
	q.query.SortRandom = true
	return NodeURLExampleNoLive{q}
}
