// Code generated by github.com/go-surreal/som, DO NOT EDIT.
package define

import (
	lib "github.com/go-surreal/som/tests/basic/gen/som/internal/lib"
	model "github.com/go-surreal/som/tests/basic/model"
)

type nodeFieldsLikeDBResponse struct {
	db        Database
	query     lib.Query[model.FieldsLikeDBResponse]
	unmarshal func(buf []byte, val any) error
}

type NodeFieldsLikeDBResponse struct {
	nodeFieldsLikeDBResponse
}

type NodeFieldsLikeDBResponseNoLive struct {
	nodeFieldsLikeDBResponse
}

func NewFieldsLikeDBResponse(db Database, unmarshal func(buf []byte, val any) error) NodeFieldsLikeDBResponse {
	return NodeFieldsLikeDBResponse{nodeFieldsLikeDBResponse{
		db:        db,
		query:     lib.NewQuery[model.FieldsLikeDBResponse]("fields_like_db_response"),
		unmarshal: unmarshal,
	}}
}

// Filter adds a where statement to the query to
// select records based on the given conditions.
//
// Use where.All to chain multiple conditions
// together that all need to match.
// Use where.Any to chain multiple conditions
// together where at least one needs to match.
func (q nodeFieldsLikeDBResponse) Filter(filters ...lib.Filter[model.FieldsLikeDBResponse]) NodeFieldsLikeDBResponse {
	q.query.Where = append(q.query.Where, filters...)
	return NodeFieldsLikeDBResponse{q}
}

// Order sorts the returned records based on the given conditions.
// If multiple conditions are given, they are applied one after the other.
// Note: If OrderRandom is used within the same query,
// it would override the sort conditions.
func (q nodeFieldsLikeDBResponse) Order(by ...*lib.Sort[model.FieldsLikeDBResponse]) NodeFieldsLikeDBResponseNoLive {
	for _, s := range by {
		q.query.Sort = append(q.query.Sort, (*lib.SortBuilder)(s))
	}
	return NodeFieldsLikeDBResponseNoLive{q}
}

// OrderRandom sorts the returned records in a random order.
// Note: OrderRandom takes precedence over Order.
func (q nodeFieldsLikeDBResponse) OrderRandom() NodeFieldsLikeDBResponseNoLive {
	q.query.SortRandom = true
	return NodeFieldsLikeDBResponseNoLive{q}
}
