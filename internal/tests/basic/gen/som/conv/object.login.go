// Code generated by github.com/go-surreal/som, DO NOT EDIT.
package conv

import (
	v2 "github.com/fxamacker/cbor/v2"
	model "github.com/go-surreal/som/tests/basic/model"
)

type login struct {
	model.Login
}

func (c *login) MarshalCBOR() ([]byte, error) {
	if c == nil {
		return v2.Marshal(nil)
	}
	data := make(map[string]interface{})

	// Regular fields
	{
		data["username"] = c.Username
	}
	{
		data["password"] = c.Password
	}

	return v2.Marshal(data)
}

func (c *login) UnmarshalCBOR(data []byte) error {
	var rawMap map[string]v2.RawMessage
	if err := v2.Unmarshal(data, &rawMap); err != nil {
		return err
	}

	// Regular fields
	if raw, ok := rawMap["username"]; ok {
		v2.Unmarshal(raw, &c.Username)
	}
	if raw, ok := rawMap["password"]; ok {
		v2.Unmarshal(raw, &c.Password)
	}

	return nil
}

func fromLogin(data model.Login) login {
	return login{Login: data}
}
func fromLoginPtr(data *model.Login) *login {
	if data == nil {
		return nil
	}
	return &login{Login: *data}
}

func toLogin(data login) model.Login {
	return data.Login
}
func toLoginPtr(data *login) *model.Login {
	if data == nil {
		return nil
	}
	result := data.Login
	return &result
}
