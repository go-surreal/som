// Code generated by github.com/go-surreal/som, DO NOT EDIT.
package conv

import (
	v2 "github.com/fxamacker/cbor/v2"
	cbor "github.com/go-surreal/som/tests/basic/gen/som/internal/cbor"
	model "github.com/go-surreal/som/tests/basic/model"
)

type groupMemberMeta struct {
	model.GroupMemberMeta
}

func (c *groupMemberMeta) MarshalCBOR() ([]byte, error) {
	if c == nil {
		return cbor.Marshal(nil)
	}
	data := make(map[string]any, 2)

	data["is_admin"] = c.IsAdmin
	data["is_active"] = c.IsActive

	return cbor.Marshal(data)
}

func (c *groupMemberMeta) UnmarshalCBOR(data []byte) error {
	var rawMap map[string]v2.RawMessage
	if err := cbor.Unmarshal(data, &rawMap); err != nil {
		return err
	}

	if raw, ok := rawMap["is_admin"]; ok {
		cbor.Unmarshal(raw, &c.IsAdmin)
	}
	if raw, ok := rawMap["is_active"]; ok {
		cbor.Unmarshal(raw, &c.IsActive)
	}

	return nil
}

func fromGroupMemberMeta(data model.GroupMemberMeta) groupMemberMeta {
	return groupMemberMeta{GroupMemberMeta: data}
}
func fromGroupMemberMetaPtr(data *model.GroupMemberMeta) *groupMemberMeta {
	if data == nil {
		return nil
	}
	return &groupMemberMeta{GroupMemberMeta: *data}
}

func toGroupMemberMeta(data groupMemberMeta) model.GroupMemberMeta {
	return data.GroupMemberMeta
}
func toGroupMemberMetaPtr(data *groupMemberMeta) *model.GroupMemberMeta {
	if data == nil {
		return nil
	}
	result := data.GroupMemberMeta
	return &result
}
