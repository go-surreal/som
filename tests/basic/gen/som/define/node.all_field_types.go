// Code generated by github.com/go-surreal/som, DO NOT EDIT.
package define

import (
	lib "github.com/go-surreal/som/tests/basic/gen/som/internal/lib"
	model "github.com/go-surreal/som/tests/basic/model"
)

type nodeAllFieldTypes struct {
	db        Database
	query     lib.Query[model.AllFieldTypes]
	unmarshal func(buf []byte, val any) error
}

type NodeAllFieldTypes struct {
	nodeAllFieldTypes
}

type NodeAllFieldTypesNoLive struct {
	nodeAllFieldTypes
}

func NewAllFieldTypes(db Database, unmarshal func(buf []byte, val any) error) NodeAllFieldTypes {
	return NodeAllFieldTypes{nodeAllFieldTypes{
		db:        db,
		query:     lib.NewQuery[model.AllFieldTypes]("all_field_types"),
		unmarshal: unmarshal,
	}}
}

// Filter adds a where statement to the query to
// select records based on the given conditions.
//
// Use where.All to chain multiple conditions
// together that all need to match.
// Use where.Any to chain multiple conditions
// together where at least one needs to match.
func (q nodeAllFieldTypes) Filter(filters ...lib.Filter[model.AllFieldTypes]) NodeAllFieldTypes {
	q.query.Where = append(q.query.Where, filters...)
	return NodeAllFieldTypes{q}
}

// Order sorts the returned records based on the given conditions.
// If multiple conditions are given, they are applied one after the other.
// Note: If OrderRandom is used within the same query,
// it would override the sort conditions.
func (q nodeAllFieldTypes) Order(by ...*lib.Sort[model.AllFieldTypes]) NodeAllFieldTypesNoLive {
	for _, s := range by {
		q.query.Sort = append(q.query.Sort, (*lib.SortBuilder)(s))
	}
	return NodeAllFieldTypesNoLive{q}
}

// OrderRandom sorts the returned records in a random order.
// Note: OrderRandom takes precedence over Order.
func (q nodeAllFieldTypes) OrderRandom() NodeAllFieldTypesNoLive {
	q.query.SortRandom = true
	return NodeAllFieldTypesNoLive{q}
}
